(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{5909:function(e,t,s){Promise.resolve().then(s.bind(s,8716))},8716:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Bonds}});var n=s(7437),r=s(2265),UI_SomeInformation=()=>(0,n.jsx)("div",{className:"someInformation",children:(0,n.jsx)("h3",{children:"Some Information"})}),o=s(6363),i=s(9226);function bondsAdd(e){return{type:"ADDBONDS",payload:{bonds:[...e]}}}function searchBond(e){return{type:"SEARCHBONDS",searchQuerys:e}}function selectedSort(e){return{type:"SELECTEDSORT",selectSort:e}}var UI_SearchBond=()=>{let e=(0,o.v9)(e=>e.rootReduser.toolKit.searchQuerys),search=e=>{i.Z.dispatch(searchBond(e))};return(0,n.jsx)("div",{className:"searchSort",children:(0,n.jsxs)("form",{className:"searchForm",name:"form",children:[(0,n.jsx)("b",{children:"search"}),(0,n.jsx)("input",{value:e,onChange:e=>search(e.target.value),placeholder:"search"})]})})},UI_SelectSort=()=>{let select=e=>{i.Z.dispatch(selectedSort(e))},e=(0,o.v9)(e=>e.rootReduser.toolKit.selectSort),t="sort by";return(0,n.jsx)("div",{children:(0,n.jsxs)("select",{className:"selectSort",onChange:e=>select(e.target.value),value:e,children:[(0,n.jsx)("option",{disabled:!0,value:t,children:t}),(0,n.jsx)("option",{value:"name",children:"sort by name "}),(0,n.jsx)("option",{value:"figi",children:"sort by figi"}),(0,n.jsx)("option",{value:"ticker",children:"sort by ticker"})]})})};let dispatch=e=>{i.Z.dispatch(e)};var c=s(6054),BondItem=e=>(0,n.jsxs)("div",{className:"BondDescript",children:[(0,n.jsx)("h1",{children:e.bond.name}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["figi:",e.bond.figi]}),(0,n.jsxs)("li",{children:["ticker:",e.bond.ticker]})]})]}),a=s(5843),d=s(1396),l=s.n(d),UI_BondsList=()=>{let e=(0,c.v9)(e=>e.rootReduser.toolKit.bonds),t=(0,c.v9)(e=>e.rootReduser.toolKit.searchQuerys),s=(0,c.v9)(e=>e.rootReduser.toolKit.count),o=(0,r.useMemo)(()=>e.filter(e=>e.figi.toLowerCase().includes(t)||e.ticker.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)),[t,e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"switchPage",children:[(0,n.jsx)("button",{onClick:()=>{dispatch((0,a.xc)())},className:"ButtonList",children:"get prev bonds"}),(0,n.jsx)("button",{onClick:()=>{dispatch((0,a.u6)())},className:"ButtonList",children:"get next bonds"})]}),(0,n.jsx)("div",{className:"bondsList",children:o.slice(s,s+8).map(e=>(0,n.jsx)("div",{className:"bondItem",children:(0,n.jsx)(l(),{href:"/bonds/".concat(e.figi),children:(0,n.jsx)(BondItem,{bond:e})})},e.figi))})]})},u=s(9222);let GetBonds=async function(){let e=await (0,u.Z)({method:"post",url:"https://invest-public-api.tinkoff.ru/rest/tinkoff.public.invest.api.contract.v1.InstrumentsService/Bonds",headers:{"Content-Type":"application/json",Authorization:"Bearer t.4kDIQbLtHt1ufbZhoW3d7ivHD9kKOFPXzmKXQLxEchyxJhj5JoRRvykSvll1BdYNKG662QXfP-v1PAfzaj1ZsQ"},data:{instrumentStatus:"INSTRUMENT_STATUS_UNSPECIFIED"}});return e};var UI_BondsCatalog=()=>{let e=[];return async function(){let t=await GetBonds();e=[...t.data.instruments]}(),(0,n.jsxs)("div",{className:"bonds",children:[(0,n.jsx)("h1",{children:"Bonds"}),(0,n.jsx)("button",{onClick:()=>{dispatch(bondsAdd(e))},className:"ButtonBonds",children:"get bonds"}),(0,n.jsx)(UI_SearchBond,{}),(0,n.jsx)(UI_SelectSort,{}),(0,n.jsx)(UI_BondsList,{})]})};function Bonds(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(UI_SomeInformation,{}),(0,n.jsx)(UI_BondsCatalog,{})]})}},5843:function(e,t,s){"use strict";s.d(t,{u6:function(){return c},xc:function(){return a}});var n=s(663);let r=(0,n.PH)("ADDBONDS"),o=(0,n.PH)("SEARCHBONDS"),i=(0,n.PH)("SELECTEDSORT"),c=(0,n.PH)("SELECTVIEWLIST"),a=(0,n.PH)("SELECTPREV"),d=(0,n.PH)("SELECTNUMBITEMS"),l=(0,n.Lq)({bonds:[{name:"name",figi:"figi",ticker:"ticker",currency:"currency",maturityDate:"maturity date",couponQuantity:"coupon quantity"}],searchQuerys:"",selectSort:"sort by",count:0,numberItems:5},e=>{e.addCase(r,(e,t)=>{e.bonds=[...t.payload.bonds]}).addCase(o,(e,t)=>{e.searchQuerys=t.searchQuerys}).addCase(i,(e,t)=>{e.selectSort=t.selectSort,e.bonds.sort((e,s)=>e[t.selectSort].localeCompare(s[t.selectSort]))}).addCase(c,(e,t)=>{e.count=e.count+e.numberItems}).addCase(a,(e,t)=>{e.count=e.count-e.numberItems}).addCase(d,(e,t)=>{e.numberItems=t.numberItems})});t.ZP=l},9226:function(e,t,s){"use strict";var n=s(7373),r=s(663),o=s(5843);let i=(0,n.UY)({toolKit:o.ZP}),c=(0,r.xC)({reducer:{rootReduser:i}});t.Z=c}},function(e){e.O(0,[269,396,54,222,971,472,744],function(){return e(e.s=5909)}),_N_E=e.O()}]);